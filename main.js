!function(){"use strict";var e={458:function(e,t,n){e.exports=n.p+"16b4dea084f0df4d09a2.png"},675:function(e,t,n){e.exports=n.p+"f0df977750300c9608ba.png"},848:function(e,t,n){e.exports=n.p+"2812029f42facf531dde.png"},547:function(e,t,n){e.exports=n.p+"eeae7d71a5c72e4cc0b5.png"},932:function(e,t,n){e.exports=n.p+"718361d5454b59e55597.jpg"},587:function(e,t,n){e.exports=n.p+"c82b35cc994010864a00.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.b=document.baseURI||self.location.href,function(){new URL(n(932),n.b),new URL(n(675),n.b),new URL(n(547),n.b),new URL(n(848),n.b),new URL(n(587),n.b),new URL(n(458),n.b);var e=document.querySelector(".enlarge-image__image"),t=document.querySelector(".enlarge-image__title"),r=document.querySelector(".enlarge-image"),o=document.querySelector(".profile__edit-button"),i=document.querySelector(".popup"),u=document.querySelector(".popup__container").querySelector(".popup__close-icon"),c=document.querySelector(".profile__jacques"),a=document.querySelector(".profile__explorer"),l=document.querySelector(".profile__avatar"),s=(document.querySelector(".popup__name"),document.querySelector(".popup__skill"),document.querySelector(".popup__place"),document.querySelector(".popup__url"),document.querySelector(".elements")),f=(document.querySelector("#elements"),document.querySelector(".profile__add-button")),p=document.querySelector(".popup_card"),y=(document.querySelector(".popup__container_card"),document.querySelector(".popup__close-icon-card")),d=document.querySelector(".popup_question"),v=(document.querySelector(".confirm"),document.querySelector(".close-question")),m=document.querySelector(".popup_avatar"),h=(document.querySelector(".popup__button-avatar"),document.querySelector(".close-avatar")),_=document.querySelector(".profile__pencil");function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}var k=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t,this._header=new Headers,this._header.append("Authorization",this._options.authorization),this._header.append("Content-Type","application/json")}var t,n;return t=e,(n=[{key:"returnFetch",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/").concat(e),t).then((function(e){return e.json()})).catch((function(e){return Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){var e={method:"GET",headers:this._header};return this.returnFetch("users/me",e)}},{key:"getCards",value:function(){var e={method:"GET",headers:this._header};return this.returnFetch("cards",e)}},{key:"editProfile",value:function(e,t){var n={method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})};return this.returnFetch("users/me",n)}},{key:"addCard",value:function(e,t){var n={method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})};return this.returnFetch("cards",n)}},{key:"deleteCard",value:function(e){var t={method:"DELETE",headers:this._header};return this.returnFetch("cards/".concat(e),t)}},{key:"giveLike",value:function(e){var t={method:"PUT",headers:this._header};return this.returnFetch("cards/likes/".concat(e),t)}},{key:"removeLike",value:function(e){var t={method:"DELETE",headers:this._header};return this.returnFetch("cards/likes/".concat(e),t)}},{key:"updateAvatar",value:function(e){var t={method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})};return this.returnFetch("users/me/avatar",t)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({authorization:"61c6f68c-f2f6-410f-a75d-8fc57629e184",baseUrl:"https://around.nomoreparties.co/v1/web_es_cohort_04"});function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._classSelector=n}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.toggle(this._classSelector)}},{key:"close",value:function(){this._popupSelector.classList.add(this._classSelector),this._popupSelector.classList.add("opacity")}},{key:"_handleEscClose",value:function(){var e=this;document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.close()}))}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("click",(function(t){"fondo"===t.target.className&&e.close()})),this.close(),this._handleEscClose()}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===L(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var C=new(function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(l,n);var o,i,u,c,a=(u=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(u);if(c){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e,t))._popupSelector=e,n}return o=l,(i=[{key:"open",value:function(n){P(q(l.prototype),"open",this).call(this),r.classList.add("opacity"),t.textContent=n.target.nextElementSibling.firstElementChild.textContent,e.src=n.target.getAttribute("src")}}])&&j(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),l}(E))(r,"no-vision");function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e,t))._popupSelector=e,r._submitCallBack=n,r._previewSubmitText=r._popupSelector.querySelector(".popup__button").textContent,r.setEventListeners(),r}return t=u,(n=[{key:"_getInputValues",value:function(){return Array.from(this._popupSelector.querySelectorAll(".popup__input"))}},{key:"setEventListeners",value:function(){var e=this;T(R(u.prototype),"setEventListeners",this).call(this),this._popupSelector.querySelector(".popup__container").addEventListener("submit",(function(t){t.preventDefault(),e._loaderPopup(!0),e._submitCallBack(e._getInputValues(),t)}))}},{key:"close",value:function(){T(R(u.prototype),"close",this).call(this),_.classList.add("visibility"),l.style.opacity="1",this._popupSelector.querySelector(".popup__container").reset(),this._loaderPopup(!1)}},{key:"_loaderPopup",value:function(e){this._popupSelector.querySelector(".popup__button").textContent=e?"Cargando....":this._previewSubmitText}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(E);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}var D=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=r._id,this._userInfo=r,this._ownerCardId=t.owner._id,this._cardSelector=n,this._element=document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0),this._likeButton=this._element.querySelector(".element__heart"),this._image=this._element.querySelector(".element__image"),this._deleteButton=this._element.querySelector(".element__trash"),this._keyHandlerBind=this._keyHandler.bind(this),this._clickHandlerBind=this._clickHandler.bind(this),this._clickButtonBind=this._clickButton.bind(this)}var t,n;return t=e,(n=[{key:"isOwnerCard",value:function(){return this._ownerCardId!==this._id}},{key:"_createCard",value:function(){var e=this;return this._element.querySelector(".element__image").src=this._link,this._data.likes.some((function(t){return t._id===e._id}))?this._likeButton.classList.add("element__heart-black"):this._likeButton.classList.remove("element__heart-black"),this._element.querySelector(".element__name").textContent=this._name,this._element.querySelector(".element__contador").textContent=this._likes.length,this._setEventListeners(),this.isOwnerCard()&&(this._deleteButton.style.display="none"),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._giveLike()})),this._image.addEventListener("click",(function(t){e._zoomIn(t)})),this._deleteButton.addEventListener("click",(function(t){var n=new U(d,"popup-visible",(function(){k.deleteCard(e._data._id).then((function(e){t.target.parentElement.parentElement.parentElement.remove(),n.close()}))}),v.addEventListener("click",(function(){n.close()})));n.open()}))}},{key:"_giveLike",value:function(){var e=this;this._likes.some((function(t){return t._id===e._id}))?k.removeLike(this._data._id).then((function(t){e._likes=t.likes,e._likeButton.classList.remove("element__heart-black"),e._element.querySelector(".element__contador").textContent=t.likes.length})):k.giveLike(this._data._id).then((function(t){e._likes=t.likes,e._likeButton.classList.add("element__heart-black"),e._element.querySelector(".element__contador").textContent=t.likes.length}))}},{key:"_zoomIn",value:function(e){C.open(e),document.addEventListener("keydown",this._keyHandlerBind),document.addEventListener("click",this._clickHandlerBind),document.querySelector(".enlarge-image__close-image").addEventListener("click",this._clickButtonBind)}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_addClass",value:function(){r.classList.add("no-vision"),r.classList.add("opacity"),document.removeEventListener("keydown",this._keyHandlerBind),document.removeEventListener("click",this._clickHandlerBind),document.querySelector(".enlarge-image__close-image").removeEventListener("click",this._clickButtonBind)}},{key:"_keyHandler",value:function(e){"Escape"===e.key&&this._addClass()}},{key:"_clickHandler",value:function(e){"fondo"===e.target.className&&this._addClass()}},{key:"_clickButton",value:function(){this._addClass()}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}var N=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"setItem",value:function(e){this._container.append(e)}},{key:"setItemStart",value:function(e){this._container.prepend(e)}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}f.addEventListener("click",(function(){new U(p,"visibility",(function(){})).open()})),o.addEventListener("click",(function(){new U(i,"popup-visible",(function(){})).open()})),_.addEventListener("click",(function(){new U(m,"popup-visible",(function(){})).open()})),l.addEventListener("mouseover",(function(e){_.classList.remove("visibility"),e.target.style.opacity="0.5"})),l.addEventListener("mouseleave",(function(e){_.classList.add("visibility"),e.target.style.opacity="1"})),_.addEventListener("mouseover",(function(){_.classList.remove("visibility"),l.style.opacity="0.5"}));var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectors=t.selectors,this._elements=t.elements}var t,n;return t=e,(n=[{key:"showInputError",value:function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),o.classList.add("popup__error_visible"),o.textContent=n}},{key:"_hideInputError",value:function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),n.classList.remove("popup__error_visible"),n.textContent=""}},{key:"isValid",value:function(e,t){t.validity.valid?this._hideInputError(e,t):this.showInputError(e,t,t.validationMessage)}},{key:"setEventListeners",value:function(e){var t=this,n=Array.from(e.querySelectorAll(".popup__input")),r=e.querySelector(".popup__button");n.forEach((function(o){o.addEventListener("input",(function(){t.isValid(e,o),t.toggleButtonState(n,r)}))}))}},{key:"enableValidation",value:function(){var e=this;Array.from(document.querySelectorAll(".popup__container")).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),e.setEventListeners(t)}))}},{key:"hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(e,t){this.hasInvalidInput(e)?t.classList.add("popup__button_disabled"):t.classList.remove("popup__button_disabled")}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}var Q=new(function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._skill=n,this._avatar=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._skill.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t,n){c.textContent=e,a.textContent=t,l.src=n}}])&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())(c,a,l),W=new U(i,"popup-visible",(function(e){k.editProfile(e[0].value,e[1].value).then((function(t){Q.setUserInfo(e[0].value,e[1].value,t.avatar),W.close()}))}),u.addEventListener("click",(function(){W.close()}))),X=new U(p,"visibility",(function(e,t){var n=this;t.preventDefault();var r=e[0].value,o=e[1].value;k.getUserInfo().then((function(e){var t=[{name:r,link:o}];k.addCard(r,o).then((function(r){var o=new N({items:t,renderer:function(t){var n=new D(r,"#elements",e)._createCard();o.setItemStart(n)}},s);o.renderItems(),n.close()}))}))}),y.addEventListener("click",(function(){X.close()}))),Y=new U(m,"popup-visible",(function(e){k.updateAvatar(e[0].value).then((function(t){l.src=e[0].value,Y.close()}))}),h.addEventListener("click",(function(){Y.close()}))),Z=new G({});Z.enableValidation(),Array.from(document.querySelectorAll(".popup__container")).forEach((function(e){e.addEventListener("input",(function(e){Z.enableValidation()}))})),k.getUserInfo().then((function(e){Q.setUserInfo(e.name,e.about,e.avatar),k.getCards().then((function(t){var n=new N({items:t,renderer:function(t){var r=new D(t,"#elements",e)._createCard();n.setItem(r)}},s);n.renderItems()}))}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3pDNkgsRUFBZ0IxSCxPQUNsQixLQUlJNEgsRUFBVSxJQUFJNUMsRUFBYyxDQUFDLEdBQ25DNEMsRUFBUUMsbUJBQ1k5RyxNQUFNQyxLQUFLbkYsU0FBU29GLGlCQUFpQixzQkFDN0MyRCxTQUFRLFNBQUNrRCxHQUNuQkEsRUFBU2pJLGlCQUFpQixTQUFTLFNBQUNDLEdBQ2xDOEgsRUFBUUMsa0JBQ1YsR0FDRixJQUVBdkssRUFBSTRKLGNBQWNoSixNQUFLLFNBQUNDLEdBQ3RCeUQsRUFBU2lGLFlBQVkxSSxFQUFJUyxLQUFNVCxFQUFJVSxNQUFPVixFQUFJaUIsUUFDOUM5QixFQUFJeUssV0FBVzdKLE1BQUssU0FBQzhKLEdBQ25CLElBQU1YLEVBQVcsSUFBSWhELEVBQ25CLENBQ0VFLE1BQU95RCxFQUNQeEQsU0FBVSxTQUFDSyxHQUNULElBQ015QyxFQURPLElBQUk3RixFQUFLb0QsRUFBTSxZQUFhMUcsR0FDaEJvSixjQUN6QkYsRUFBU1ksUUFBUVgsRUFDbkIsR0FFRnpLLEdBRUZ3SyxFQUFTSSxhQUNYLEdBQ0YsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiY29uc3QgeW9zZW1pdGUgPSBuZXcgVVJMKFwiLi4vc3JjL2ltYWdlcy92YWxsZS1kZS15b3NlbWl0ZTEuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IGxvaXNlID0gbmV3IFVSTChcIi4uL3NyYy9pbWFnZXMvbGFnby1sb3Vpc2UyLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBjYWx2YXMgPSBuZXcgVVJMKFwiLi4vc3JjL2ltYWdlcy9tb250YcOxYXMtY2FsdmFzMy5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuY29uc3QgbGF0ZW1hciA9IG5ldyBVUkwoXCIuLi9zcmMvaW1hZ2VzL2xhdGVtYXI0LnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCB2YW5vaXNlID0gbmV3IFVSTChcIi4uL3NyYy9pbWFnZXMvdmFub2lzZS1uYXRpb25hbC4uLjUucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IGJyYWllcyA9IG5ldyBVUkwoXCIuLi9zcmMvaW1hZ2VzL2xhZ28tZGktYnJhaWVzNi5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgbGluazogeW9zZW1pdGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICBsaW5rOiBsb2lzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogY2FsdmFzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBsYXRlbWFyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgbGluazogdmFub2lzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IGJyYWllcyxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJpZ0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbmxhcmdlLWltYWdlX19pbWFnZVwiKTtcclxuZXhwb3J0IGNvbnN0IGVubGFyZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW5sYXJnZS1pbWFnZV9fdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBlbmxhcmdlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVubGFyZ2UtaW1hZ2VcIik7XHJcblxyXG5leHBvcnQgY29uc3Qgb3BlbkZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cFwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDbG9zZUljb24gPSBwb3B1cENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1pY29uXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2phY3F1ZXNcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlU2tpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2V4cGxvcmVyXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0U2tpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19za2lsbFwiKTtcclxuZXhwb3J0IGNvbnN0IG5ld0NhcmRQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BsYWNlXCIpO1xyXG5leHBvcnQgY29uc3QgbmV3Q2FyZExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX191cmxcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0U2VsZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbGVtZW50c1wiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBvcGVuRm9ybUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBGb3JtSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2NhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1JbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lcl9jYXJkXCIpO1xyXG5leHBvcnQgY29uc3QgY2xvc2VGb3JtSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1pY29uLWNhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFF1ZXN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9xdWVzdGlvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm1cIik7XHJcbmV4cG9ydCBjb25zdCBjbG9zZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLXF1ZXN0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2F2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLWF2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2xvc2VBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLWF2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQZW5jaWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BlbmNpbFwiKTsiLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgIHRoaXMuX2hlYWRlciA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICB0aGlzLl9oZWFkZXIuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCB0aGlzLl9vcHRpb25zLmF1dGhvcml6YXRpb24pO1xyXG4gICAgdGhpcy5faGVhZGVyLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm5GZXRjaCh1cmwsIHJlcXVlc3RPcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS8ke3VybH1gLCByZXF1ZXN0T3B0aW9ucylcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLmNhdGNoKChyZXMpID0+IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLnJldHVybkZldGNoKFwidXNlcnMvbWVcIiwgcmVxdWVzdE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHRoaXMucmV0dXJuRmV0Y2goXCJjYXJkc1wiLCByZXF1ZXN0T3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBlZGl0UHJvZmlsZShuYW1lLCBhYm91dCkge1xyXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aGlzLnJldHVybkZldGNoKFwidXNlcnMvbWVcIiwgcmVxdWVzdE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5yZXR1cm5GZXRjaChcImNhcmRzXCIsIHJlcXVlc3RPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5yZXR1cm5GZXRjaChgY2FyZHMvJHtpZH1gLCByZXF1ZXN0T3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBnaXZlTGlrZShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5yZXR1cm5GZXRjaChgY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwgcmVxdWVzdE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5yZXR1cm5GZXRjaChgY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwgcmVxdWVzdE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhcikge1xyXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhclxyXG4gICAgICB9KSxcclxuICAgIH07XHJcbiAgXHJcbiAgICByZXR1cm4gdGhpcy5yZXR1cm5GZXRjaChcInVzZXJzL21lL2F2YXRhclwiLCByZXF1ZXN0T3B0aW9ucyk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGF1dGhvcml6YXRpb246IFwiNjFjNmY2OGMtZjJmNi00MTBmLWE3NWQtOGZjNTc2MjllMTg0XCIsXHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc19jb2hvcnRfMDRcIixcclxufSk7IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBjbGFzc1NlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcclxuICAgIHRoaXMuX2NsYXNzU2VsZWN0b3IgPSBjbGFzc1NlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLl9jbGFzc1NlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2NsYXNzU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwib3BhY2l0eVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJmb25kb1wiKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgYmlnSW1hZ2UsIGVubGFyZ2VJbWFnZSwgZW5sYXJnZVRpdGxlIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2xhc3NTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3RvciwgY2xhc3NTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcclxuICB9XHJcbiAgXHJcbiAgb3BlbihldnQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIGVubGFyZ2VJbWFnZS5jbGFzc0xpc3QuYWRkKFwib3BhY2l0eVwiKTtcclxuICAgIGVubGFyZ2VUaXRsZS50ZXh0Q29udGVudCA9IGV2dC50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xyXG4gICAgYmlnSW1hZ2Uuc3JjID0gZXZ0LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoZW5sYXJnZUltYWdlLCBcIm5vLXZpc2lvblwiKTsiLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IHByb2ZpbGVQZW5jaWwsIHByb2ZpbGVBdmF0YXIgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBjbGFzc1NlbGVjdG9yLCBzdWJtaXRDYWxsQmFjaykge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3RvciwgY2xhc3NTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdENhbGxCYWNrID0gc3VibWl0Q2FsbEJhY2s7XHJcbiAgICB0aGlzLl9wcmV2aWV3U3VibWl0VGV4dCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKS50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRlclBvcHVwKHRydWUpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdENhbGxCYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCksIGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgcHJvZmlsZVBlbmNpbC5jbGFzc0xpc3QuYWRkKFwidmlzaWJpbGl0eVwiKTtcclxuICAgIHByb2ZpbGVBdmF0YXIuc3R5bGUub3BhY2l0eSAgPSBcIjFcIjtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpLnJlc2V0KCk7XHJcbiAgICB0aGlzLl9sb2FkZXJQb3B1cChmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBfbG9hZGVyUG9wdXAobG9hZGluZykge1xyXG4gICAgaWYgKGxvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpLnRleHRDb250ZW50ID0gJ0NhcmdhbmRvLi4uLic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJykudGV4dENvbnRlbnQgPSB0aGlzLl9wcmV2aWV3U3VibWl0VGV4dDtcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgeyBjb25maXJtQnV0dG9uLCBlbmxhcmdlSW1hZ2UsIHBvcHVwUXVlc3Rpb24sIGNsb3NlQ29uZmlybUJ1dHRvbiB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4vQXBpLmpzXCI7XHJcbmltcG9ydCB7IHBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIHVzZXJJbmZvID0ge30pIHtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9pZCA9IHVzZXJJbmZvLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJbmZvID0gdXNlckluZm87XHJcbiAgICB0aGlzLl9vd25lckNhcmRJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2hlYXJ0XCIpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIik7XHJcbiAgICB0aGlzLl9rZXlIYW5kbGVyQmluZCA9IHRoaXMuX2tleUhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2NsaWNrSGFuZGxlckJpbmQgPSB0aGlzLl9jbGlja0hhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2NsaWNrQnV0dG9uQmluZCA9IHRoaXMuX2NsaWNrQnV0dG9uLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBpc093bmVyQ2FyZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9vd25lckNhcmRJZCAhPT0gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgY29uc3QgaGFzTGlrZSA9IHRoaXMuX2RhdGEubGlrZXMuc29tZSgob3duZXIpID0+IHtcclxuICAgICAgcmV0dXJuIG93bmVyLl9pZCA9PT0gdGhpcy5faWQ7XHJcbiAgICB9KTtcclxuICAgIGlmIChoYXNMaWtlKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2hlYXJ0LWJsYWNrXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9faGVhcnQtYmxhY2tcIik7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbmFtZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fY29udGFkb3JcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgaWYgKHRoaXMuaXNPd25lckNhcmQoKSkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2dpdmVMaWtlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX3pvb21JbihldnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgY29uc3QgY29uZmlybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUXVlc3Rpb24sIFwicG9wdXAtdmlzaWJsZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQodGhpcy5fZGF0YS5faWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgIGNvbmZpcm0uY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgY2xvc2VDb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uZmlybS5jbG9zZSgpO1xyXG4gICAgICB9KSlcclxuICAgICAgY29uZmlybS5vcGVuKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gICAgX2dpdmVMaWtlKCkge1xyXG4gICAgICBjb25zdCBoYXNMaWtlID0gdGhpcy5fbGlrZXMuc29tZSgob3duZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gb3duZXIuX2lkID09PSB0aGlzLl9pZDtcclxuICAgICAgfSk7XHJcbiAgICBpZiAoIWhhc0xpa2UpIHtcclxuICAgICAgYXBpLmdpdmVMaWtlKHRoaXMuX2RhdGEuX2lkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IHJlcy5saWtlcztcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19oZWFydC1ibGFja1wiKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fY29udGFkb3JcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICAgICAgcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcGkucmVtb3ZlTGlrZSh0aGlzLl9kYXRhLl9pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9faGVhcnQtYmxhY2tcIik7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2NvbnRhZG9yXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICAgIHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3pvb21JbihldnQpIHtcclxuICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oZXZ0KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2tleUhhbmRsZXJCaW5kKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbGlja0hhbmRsZXJCaW5kKTtcclxuICAgIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVubGFyZ2UtaW1hZ2VfX2Nsb3NlLWltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xpY2tCdXR0b25CaW5kKTtcclxuICB9XHJcblxyXG4gIF9kZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2FkZENsYXNzKCkge1xyXG4gICAgZW5sYXJnZUltYWdlLmNsYXNzTGlzdC5hZGQoXCJuby12aXNpb25cIik7XHJcbiAgICBlbmxhcmdlSW1hZ2UuY2xhc3NMaXN0LmFkZChcIm9wYWNpdHlcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9rZXlIYW5kbGVyQmluZCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xpY2tIYW5kbGVyQmluZCk7XHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbmxhcmdlLWltYWdlX19jbG9zZS1pbWFnZVwiKVxyXG4gICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2NsaWNrQnV0dG9uQmluZCk7XHJcbiAgfVxyXG5cclxuICBfa2V5SGFuZGxlcihldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuX2FkZENsYXNzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2xpY2tIYW5kbGVyKGNsaWNrRXZlbnQpIHtcclxuICAgIGlmIChjbGlja0V2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09IFwiZm9uZG9cIikge1xyXG4gICAgICB0aGlzLl9hZGRDbGFzcygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NsaWNrQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYWRkQ2xhc3MoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0SXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICBcclxuICBzZXRJdGVtU3RhcnQoZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgY2FyZENvbnRhaW5lcixcclxuICBvcGVuRm9ybUJ1dHRvbixcclxuICBvcGVuRm9ybUltYWdlLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwRm9ybUltYWdlLFxyXG4gIHBvcHVwUHJvZmlsZSxcclxuICBwcm9maWxlUGVuY2lsLFxyXG4gIGFsbFBvcHVwQnV0dG9uLFxyXG4gIHByb2ZpbGVBdmF0YXJcclxufSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDYXJkRm9ybSh2YWx1ZXMsIGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IHRpdGxlID0gdmFsdWVzWzBdLnZhbHVlO1xyXG4gIGNvbnN0IGltYWdlID0gdmFsdWVzWzFdLnZhbHVlO1xyXG4gIGFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IFt7IG5hbWU6IHRpdGxlLCBsaW5rOiBpbWFnZSB9XTtcclxuICAgIGFwaS5hZGRDYXJkKHRpdGxlLCBpbWFnZSkudGhlbigoY2FyZFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaXRlbXM6IGRhdGEsXHJcbiAgICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmRSZXNwb25zZSwgXCIjZWxlbWVudHNcIiwgcmVzKTtcclxuICAgICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLl9jcmVhdGVDYXJkKCk7XHJcbiAgICAgICAgICAgIGNhcmRMaXN0LnNldEl0ZW1TdGFydChjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FyZENvbnRhaW5lclxyXG4gICAgICApO1xyXG4gICAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxub3BlbkZvcm1JbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIHBvcHVwRm9ybUltYWdlLFxyXG4gICAgXCJ2aXNpYmlsaXR5XCIsXHJcbiAgICAoKSA9PiB7fVxyXG4gICk7XHJcbiAgcG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxub3BlbkZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBwb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICBwb3B1cFByb2ZpbGUsXHJcbiAgICBcInBvcHVwLXZpc2libGVcIixcclxuICAgICgpID0+IHt9XHJcbiAgKTtcclxuICBwb3B1cFdpdGhGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlUGVuY2lsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgcG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgcG9wdXBBdmF0YXIsXHJcbiAgICBcInBvcHVwLXZpc2libGVcIixcclxuICAgICgpID0+IHt9XHJcbiAgKTtcclxuICBwb3B1cFdpdGhGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGV2dCkgPT4ge1xyXG4gIHByb2ZpbGVQZW5jaWwuY2xhc3NMaXN0LnJlbW92ZShcInZpc2liaWxpdHlcIik7XHJcbiAgZXZ0LnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gXCIwLjVcIjtcclxufSlcclxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoZXZ0KSA9PiB7XHJcbiAgcHJvZmlsZVBlbmNpbC5jbGFzc0xpc3QuYWRkKFwidmlzaWJpbGl0eVwiKTtcclxuICBldnQudGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxufSlcclxucHJvZmlsZVBlbmNpbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuICBwcm9maWxlUGVuY2lsLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmlsaXR5XCIpO1xyXG4gIHByb2ZpbGVBdmF0YXIuc3R5bGUub3BhY2l0eSA9IFwiMC41XCI7XHJcbn0pIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9ycyA9IGRhdGEuc2VsZWN0b3JzO1xyXG4gICAgdGhpcy5fZWxlbWVudHMgPSBkYXRhLmVsZW1lbnRzO1xyXG4gIH1cclxuXHJcbiAgc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBzZWxlY3RvcnMpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIik7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19lcnJvcl92aXNpYmxlXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIik7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19lcnJvcl92aXNpYmxlXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIGlzVmFsaWQoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5zaG93SW5wdXRFcnJvcihcclxuICAgICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWYWxpZChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2NvbnRhaW5lclwiKSk7XHJcbiAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQge1xyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVTa2lsbCxcclxuICBwcm9maWxlQXZhdGFyLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZSwgam9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fc2tpbGwgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fc2tpbGwudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuZXdOYW1lLCBuZXdKb2IsIG5ld0F2YXRhcikge1xyXG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuZXdOYW1lO1xyXG4gICAgcHJvZmlsZVNraWxsLnRleHRDb250ZW50ID0gbmV3Sm9iO1xyXG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSBuZXdBdmF0YXI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIHByb2ZpbGVTa2lsbCwgcHJvZmlsZUF2YXRhcik7IiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGNhcmRDb250YWluZXIsXHJcbiAgcG9wdXBGb3JtSW1hZ2UsXHJcbiAgcG9wdXBQcm9maWxlLFxyXG4gIHBvcHVwQ2xvc2VJY29uLFxyXG4gIGNsb3NlRm9ybUltYWdlLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwQ2xvc2VBdmF0YXIsXHJcbiAgcHJvZmlsZUF2YXRhclxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgYWRkQ2FyZEZvcm0sIHdhaXRpbmcgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgdXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBQcm9maWxlLFxyXG4gIFwicG9wdXAtdmlzaWJsZVwiLFxyXG4gIChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgYXBpLmVkaXRQcm9maWxlKGlucHV0VmFsdWVzWzBdLnZhbHVlLCBpbnB1dFZhbHVlc1sxXS52YWx1ZSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKFxyXG4gICAgICAgIGlucHV0VmFsdWVzWzBdLnZhbHVlLFxyXG4gICAgICAgIGlucHV0VmFsdWVzWzFdLnZhbHVlLFxyXG4gICAgICAgIHJlcy5hdmF0YXJcclxuICAgICAgKTtcclxuICAgICAgcG9wdXBXaXRoRm9ybVByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcG9wdXBDbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHBvcHVwV2l0aEZvcm1Qcm9maWxlLmNsb3NlKCk7XHJcbiAgfSlcclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cEZvcm1JbWFnZSxcclxuICBcInZpc2liaWxpdHlcIixcclxuICBhZGRDYXJkRm9ybSxcclxuICBjbG9zZUZvcm1JbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEZvcm1BdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cEF2YXRhcixcclxuICBcInBvcHVwLXZpc2libGVcIixcclxuICAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIGFwaS51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXNbMF0udmFsdWUpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwcm9maWxlQXZhdGFyLnNyYyA9IGlucHV0VmFsdWVzWzBdLnZhbHVlLFxyXG4gICAgICBwb3B1cEZvcm1BdmF0YXIuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcG9wdXBDbG9zZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcG9wdXBGb3JtQXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuKTtcclxuXHJcblxyXG5jb25zdCB2YWxpZGFyID0gbmV3IEZvcm1WYWxpZGF0b3Ioe30pO1xyXG52YWxpZGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgZm9ybXVsYXJpb3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2NvbnRhaW5lclwiKSk7XHJcbmZvcm11bGFyaW9zLmZvckVhY2goKGVsZW1lbnRvKSA9PiB7XHJcbiAgZWxlbWVudG8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgIHZhbGlkYXIuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlcykgPT4ge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQsIHJlcy5hdmF0YXIpO1xyXG4gIGFwaS5nZXRDYXJkcygpLnRoZW4oKHJlc0NhcmRzKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlc0NhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sIFwiI2VsZW1lbnRzXCIsIHJlcyk7XHJcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuX2NyZWF0ZUNhcmQoKTtcclxuICAgICAgICAgIGNhcmRMaXN0LnNldEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGNhcmRDb250YWluZXJcclxuICAgICk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gIH0pO1xyXG59KTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJVUkwiLCJiaWdJbWFnZSIsInF1ZXJ5U2VsZWN0b3IiLCJlbmxhcmdlVGl0bGUiLCJlbmxhcmdlSW1hZ2UiLCJvcGVuRm9ybUJ1dHRvbiIsInBvcHVwUHJvZmlsZSIsInBvcHVwQ2xvc2VJY29uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlU2tpbGwiLCJwcm9maWxlQXZhdGFyIiwiY2FyZENvbnRhaW5lciIsIm9wZW5Gb3JtSW1hZ2UiLCJwb3B1cEZvcm1JbWFnZSIsImNsb3NlRm9ybUltYWdlIiwicG9wdXBRdWVzdGlvbiIsImNsb3NlQ29uZmlybUJ1dHRvbiIsInBvcHVwQXZhdGFyIiwicG9wdXBDbG9zZUF2YXRhciIsInByb2ZpbGVQZW5jaWwiLCJhcGkiLCJvcHRpb25zIiwidGhpcyIsIl9vcHRpb25zIiwiX2hlYWRlciIsIkhlYWRlcnMiLCJhcHBlbmQiLCJhdXRob3JpemF0aW9uIiwidXJsIiwicmVxdWVzdE9wdGlvbnMiLCJmZXRjaCIsImJhc2VVcmwiLCJ0aGVuIiwicmVzIiwianNvbiIsImNhdGNoIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIm1ldGhvZCIsImhlYWRlcnMiLCJyZXR1cm5GZXRjaCIsIm5hbWUiLCJhYm91dCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibGluayIsImlkIiwiY2FyZElkIiwiYXZhdGFyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xhc3NTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX2NsYXNzU2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJfaGFuZGxlRXNjQ2xvc2UiLCJwb3B1cFdpdGhJbWFnZSIsInRleHRDb250ZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Q2FsbEJhY2siLCJfc3VibWl0Q2FsbEJhY2siLCJfcHJldmlld1N1Ym1pdFRleHQiLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcmV2ZW50RGVmYXVsdCIsIl9sb2FkZXJQb3B1cCIsIl9nZXRJbnB1dFZhbHVlcyIsInN0eWxlIiwib3BhY2l0eSIsInJlc2V0IiwibG9hZGluZyIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwidXNlckluZm8iLCJfZGF0YSIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl91c2VySW5mbyIsIl9vd25lckNhcmRJZCIsIm93bmVyIiwiX2NhcmRTZWxlY3RvciIsIl9lbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9saWtlQnV0dG9uIiwiX2ltYWdlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9rZXlIYW5kbGVyQmluZCIsIl9rZXlIYW5kbGVyIiwiYmluZCIsIl9jbGlja0hhbmRsZXJCaW5kIiwiX2NsaWNrSGFuZGxlciIsIl9jbGlja0J1dHRvbkJpbmQiLCJfY2xpY2tCdXR0b24iLCJzb21lIiwicmVtb3ZlIiwibGVuZ3RoIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiaXNPd25lckNhcmQiLCJkaXNwbGF5IiwiX2dpdmVMaWtlIiwiX3pvb21JbiIsImNvbmZpcm0iLCJkZWxldGVDYXJkIiwicGFyZW50RWxlbWVudCIsIm9wZW4iLCJyZW1vdmVMaWtlIiwiZ2l2ZUxpa2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2FkZENsYXNzIiwiY2xpY2tFdmVudCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJGb3JtVmFsaWRhdG9yIiwiX3NlbGVjdG9ycyIsInNlbGVjdG9ycyIsIl9lbGVtZW50cyIsImVsZW1lbnRzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwic2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJpc1ZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJoYXNJbnZhbGlkSW5wdXQiLCJqb2IiLCJfc2tpbGwiLCJfYXZhdGFyIiwibmV3TmFtZSIsIm5ld0pvYiIsIm5ld0F2YXRhciIsInBvcHVwV2l0aEZvcm1Qcm9maWxlIiwiaW5wdXRWYWx1ZXMiLCJlZGl0UHJvZmlsZSIsInZhbHVlIiwic2V0VXNlckluZm8iLCJwb3B1cFdpdGhGb3JtIiwidmFsdWVzIiwidGl0bGUiLCJpbWFnZSIsImdldFVzZXJJbmZvIiwiYWRkQ2FyZCIsImNhcmRSZXNwb25zZSIsImNhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJfY3JlYXRlQ2FyZCIsInNldEl0ZW1TdGFydCIsInJlbmRlckl0ZW1zIiwicG9wdXBGb3JtQXZhdGFyIiwidXBkYXRlQXZhdGFyIiwidmFsaWRhciIsImVuYWJsZVZhbGlkYXRpb24iLCJlbGVtZW50byIsImdldENhcmRzIiwicmVzQ2FyZHMiLCJzZXRJdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==